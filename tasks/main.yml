---
# Add a fast check to speed reconfiguration
- stat: path=/opt/hadoop
  register: hadoop_installed

- name: Creates directory
  file: path={{ tmp }} state=directory

- import_tasks: install-jdk.yml

- import_tasks: install.yml
#  when: not hadoop_installed.stat.exists

- import_tasks: configure.yml

- import_tasks: restart.yml